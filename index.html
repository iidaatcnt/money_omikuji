<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãŠé‡‘ã®çŸ¥æµãŠã¿ãã˜ã‚¢ãƒ—ãƒª</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', serif;
            background: linear-gradient(135deg, #2c5530, #4a7c59);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }
        
        .app-container {
            background: #f8f6f0;
            border: 3px solid #8b4513;
            border-radius: 20px;
            max-width: 400px;
            min-height: 500px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
            position: relative;
            overflow: hidden;
        }
        
        /* èµ·å‹•ç”»é¢ */
        .start-screen {
            padding: 40px 30px;
            text-align: center;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .app-title {
            font-size: 28px;
            font-weight: bold;
            color: #8b4513;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .app-subtitle {
            font-size: 16px;
            color: #2c5530;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .features-list {
            background: rgba(212, 175, 55, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: left;
        }
        
        .feature-item {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            font-size: 14px;
            color: #2c5530;
        }
        
        .feature-icon {
            margin-right: 10px;
            font-size: 18px;
        }
        
        .start-button {
            background: linear-gradient(135deg, #d4af37, #b8860b);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }
        
        .start-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.4);
        }
        
        .instruction-text {
            font-size: 12px;
            color: #8b4513;
            font-style: italic;
        }
        
        /* ãŠã¿ãã˜ç”»é¢ */
        .omikuji-screen {
            display: none;
            padding: 20px;
            min-height: 500px;
        }
        
        .omikuji-header {
            text-align: center;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 15px;
            margin-bottom: 20px;
            position: relative;
        }
        
        .back-button {
            position: absolute;
            left: 0;
            top: 0;
            background: #8b4513;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
        }
        
        .omikuji-title {
            font-size: 18px;
            font-weight: bold;
            color: #8b4513;
            margin-bottom: 10px;
        }
        
        .fortune-level {
            font-size: 28px;
            font-weight: bold;
            color: #d4af37;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .draw-section {
            text-align: center;
            margin: 30px 0;
        }
        
        .omikuji-box {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, #8b4513, #a0522d);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            position: relative;
            clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
        }
        
        .omikuji-box:hover {
            transform: scale(1.05);
        }
        
        .omikuji-box.shaking {
            animation: shake 0.5s ease-in-out infinite;
        }
        
        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }
        
        .box-content {
            color: white;
            font-size: 16px;
            font-weight: bold;
            text-align: center;
        }
        
        .draw-button {
            background: linear-gradient(135deg, #d4af37, #b8860b);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .draw-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        .draw-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        /* çµæœè¡¨ç¤º */
        .result-content {
            display: none;
            margin-top: 20px;
        }
        
        .category {
            margin-bottom: 15px;
            padding: 12px;
            background: rgba(212, 175, 55, 0.1);
            border-left: 4px solid #d4af37;
            border-radius: 5px;
        }
        
        .category-title {
            font-weight: bold;
            color: #8b4513;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .category-text {
            color: #2c5530;
            font-size: 13px;
            line-height: 1.5;
        }
        
        .bottom-message {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: rgba(139, 69, 19, 0.1);
            border-radius: 10px;
            font-size: 12px;
            color: #8b4513;
            font-style: italic;
        }
        
        .new-draw-button {
            background: #2c5530;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }
        
        .new-draw-button:hover {
            background: #1a3a1f;
        }
        
        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ */
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .decorative-coins {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            opacity: 0.7;
        }
        
        /* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”¨ã®ã‚¹ãƒ”ãƒŠãƒ¼ */
        .loading-spinner {
            display: none;
            margin: 20px auto;
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #d4af37;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="decorative-coins">ğŸ’°âœ¨</div>
        
        <!-- èµ·å‹•ç”»é¢ -->
        <div class="start-screen" id="startScreen">
            <div class="app-title">ãŠé‡‘ã®çŸ¥æµ<br>ãŠã¿ãã˜</div>
            <div class="app-subtitle">ã‚ãªãŸã®é‡‘é‹ã¨<br>ãŠé‡‘ã®ä½¿ã„æ–¹ã‚’å ã„ã¾ã™</div>
            
            <div class="features-list">
                <div class="feature-item">
                    <span class="feature-icon">ğŸ’¸</span>
                    <span>è²¯ã‚ã‚‹åŠ›ã‚’ã‚¢ãƒ‰ãƒã‚¤ã‚¹</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ğŸ“ˆ</span>
                    <span>å¢—ã‚„ã™åŠ›ã‚’ã‚µãƒãƒ¼ãƒˆ</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ğŸ’ª</span>
                    <span>ç¨¼ãåŠ›ã‚’å‘ä¸Š</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ğŸ¯</span>
                    <span>ä½¿ã†åŠ›ã‚’æœ€é©åŒ–</span>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ğŸ›¡ï¸</span>
                    <span>å®ˆã‚‹åŠ›ã‚’å¼·åŒ–</span>
                </div>
            </div>
            
            <button class="start-button" onclick="startApp()">ãŠã¿ãã˜ã‚’å¼•ã</button>
            <div class="instruction-text">ç”»é¢ã‚’ã‚¿ãƒƒãƒ—ã—ã¦é‹å‹¢ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†</div>
        </div>
        
        <!-- ãŠã¿ãã˜ç”»é¢ -->
        <div class="omikuji-screen" id="omikujiScreen">
            <div class="omikuji-header">
                <button class="back-button" onclick="goBack()">â† æˆ»ã‚‹</button>
                <div class="omikuji-title">ãŠé‡‘ã®çŸ¥æµãŠã¿ãã˜</div>
                <div class="fortune-level" id="fortuneLevel">ï¼Ÿ</div>
            </div>
            
            <div class="draw-section">
                <div class="omikuji-box" id="omikujiBox" onclick="drawFortune()">
                    <div class="box-content">
                        <div>ğŸ‹</div>
                        <div>ãŠã¿ãã˜ç®±</div>
                        <div style="font-size: 12px;">ã‚¿ãƒƒãƒ—ã—ã¦å¼•ã</div>
                    </div>
                </div>
                
                <div class="loading-spinner" id="loadingSpinner"></div>
                
                <button class="draw-button" id="drawButton" onclick="drawFortune()">
                    ãŠã¿ãã˜ã‚’å¼•ã
                </button>
            </div>
            
            <div class="result-content" id="resultContent">
                <div id="fortuneCategories"></div>
                
                <div class="bottom-message">
                    <div>ãŠé‡‘ã¯äººç”Ÿã‚’è±Šã‹ã«ã™ã‚‹é“å…·ã§ã™</div>
                    <div>è³¢ãä»˜ãåˆã£ã¦å¹¸ã›ãªæœªæ¥ã‚’ç¯‰ãã¾ã—ã‚‡ã†</div>
                    <button class="new-draw-button" onclick="resetDraw()">ã‚‚ã†ä¸€åº¦å¼•ã</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const fortunes = {
            'å¤§å‰': {
                'ğŸ’¸ è²¯ã‚ã‚‹åŠ›': 'ç„¡é§„é£ã„ã‚’è¦‹ç›´ã™çµ¶å¥½ã®æ™‚ã€‚å®¶è¨ˆç°¿ã‚’ã¤ã‘ã¦æ”¯å‡ºã‚’è¦‹ãˆã‚‹åŒ–ã—ã¾ã—ã‚‡ã†ã€‚å°ã•ãªç¯€ç´„ãŒå¤§ããªæˆæœã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚',
                'ğŸ“ˆ å¢—ã‚„ã™åŠ›': 'æŠ•è³‡ã‚’å§‹ã‚ã‚‹ã®ã«è‰¯ã„æ™‚æœŸã€‚å°‘é¡ã‹ã‚‰ã§ã‚‚ç©ç«‹æŠ•è³‡ã‚’æ¤œè¨ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚æ™‚é–“ã‚’å‘³æ–¹ã«ã¤ã‘ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚',
                'ğŸ’ª ç¨¼ãåŠ›': 'æ–°ã—ã„ã‚¹ã‚­ãƒ«ã‚’èº«ã«ã¤ã‘ã‚‹ãƒãƒ£ãƒ³ã‚¹ã€‚å‰¯æ¥­ã‚„è»¢è·ã‚’è€ƒãˆã‚‹è‰¯ã„æ©Ÿä¼šã§ã™ã€‚è‡ªåˆ†ã¸ã®æŠ•è³‡ã‚’æƒœã—ã¾ãªã„ã§ã€‚',
                'ğŸ¯ ä½¿ã†åŠ›': 'ä¾¡å€¤ã‚ã‚‹ä½“é¨“ã‚„è‡ªå·±æŠ•è³‡ã«ãŠé‡‘ã‚’ä½¿ã†ã¨ãã€‚å®‰ã„ã‚‚ã®ã‚ˆã‚Šã€é•·ãä½¿ãˆã‚‹è³ªã®è‰¯ã„ã‚‚ã®ã‚’é¸ã³ã¾ã—ã‚‡ã†ã€‚',
                'ğŸ›¡ï¸ å®ˆã‚‹åŠ›': 'ä¿é™ºã®è¦‹ç›´ã—ã‚’ã™ã‚‹æ™‚æœŸã€‚è©æ¬ºã‚„æ€ªã—ã„æŠ•è³‡è©±ã«ã¯ååˆ†æ³¨æ„ã—ã¦ã€‚å¤§åˆ‡ãªè³‡ç”£ã‚’å®ˆã‚ŠæŠœãã¾ã—ã‚‡ã†ã€‚'
            },
            'ä¸­å‰': {
                'ğŸ’¸ è²¯ã‚ã‚‹åŠ›': 'ã‚³ãƒ„ã‚³ãƒ„ç¯€ç´„ã‚’ç¶šã‘ã¦ã„ã‘ã°è‰¯ã„çµæœãŒã€‚å›ºå®šè²»ã®è¦‹ç›´ã—ã‹ã‚‰å§‹ã‚ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ç¶™ç¶šãŒåŠ›ãªã‚Šã€‚',
                'ğŸ“ˆ å¢—ã‚„ã™åŠ›': 'ç€å®Ÿãªè³‡ç”£å½¢æˆã®æ™‚æœŸã€‚ãƒªã‚¹ã‚¯ã‚’æŠ‘ãˆãŸæŠ•è³‡å•†å“ã‹ã‚‰å§‹ã‚ã‚‹ã®ãŒå‰ã€‚ç„¦ã‚‰ãšé•·æœŸçš„ãªè¦–ç‚¹ã‚’ã€‚',
                'ğŸ’ª ç¨¼ãåŠ›': 'ç¾åœ¨ã®ä»•äº‹ã§ã®ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã«æ³¨åŠ›ã‚’ã€‚è³‡æ ¼å–å¾—ã‚„ç ”ä¿®å‚åŠ ã§åå…¥ã‚¢ãƒƒãƒ—ã®é“ç­‹ãŒè¦‹ãˆã¦ãã¾ã™ã€‚',
                'ğŸ¯ ä½¿ã†åŠ›': 'å¿…è¦ãªã‚‚ã®ã¨æ¬²ã—ã„ã‚‚ã®ã‚’åŒºåˆ¥ã—ã¦ã€‚è¨ˆç”»çš„ãªè²·ã„ç‰©ã§æº€è¶³åº¦ã®é«˜ã„æ¶ˆè²»ã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ã€‚',
                'ğŸ›¡ï¸ å®ˆã‚‹åŠ›': 'ç·Šæ€¥æ™‚ã®å‚™ãˆã‚’å……å®Ÿã•ã›ã‚‹æ™‚ã€‚ç”Ÿæ´»è²»ã®3ã€œ6ãƒ¶æœˆåˆ†ã®è²¯è“„ã‚’ç›®æ¨™ã«å …å®Ÿã«é€²ã‚ã¾ã—ã‚‡ã†ã€‚'
            },
            'å°å‰': {
                'ğŸ’¸ è²¯ã‚ã‚‹åŠ›': 'å°ã•ãªå·¥å¤«ã§æ”¯å‡ºå‰Šæ¸›ã‚’ã€‚ã¾ãšã¯æœˆ1ä¸‡å††ã®ç¯€ç´„ã‹ã‚‰å§‹ã‚ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ç¿’æ…£åŒ–ãŒéµã§ã™ã€‚',
                'ğŸ“ˆ å¢—ã‚„ã™åŠ›': 'æŠ•è³‡ã®å‹‰å¼·ã‚’å§‹ã‚ã‚‹å¥½æ©Ÿã€‚æ›¸ç±ã‚„ã‚»ãƒŸãƒŠãƒ¼ã§çŸ¥è­˜ã‚’è“„ãˆã¦ã‹ã‚‰å®Ÿè·µã¸ã€‚æº–å‚™ãŒå¤§åˆ‡ã§ã™ã€‚',
                'ğŸ’ª ç¨¼ãåŠ›': 'ä»Šã®è·å ´ã§ã®è©•ä¾¡å‘ä¸Šã«åŠªã‚ã¦ã€‚æ˜‡çµ¦ã‚„æ˜‡é€²ã®ãƒãƒ£ãƒ³ã‚¹ã‚’æ´ã‚€ãŸã‚ã€å®Ÿç¸¾ä½œã‚Šã«åŠ±ã¿ã¾ã—ã‚‡ã†ã€‚',
                'ğŸ¯ ä½¿ã†åŠ›': 'ä¾¡æ ¼ã¨å“è³ªã®ãƒãƒ©ãƒ³ã‚¹ã‚’é‡è¦–ã—ã¦ã€‚è¡å‹•è²·ã„ã‚’é¿ã‘ã€ä¸€æ™©è€ƒãˆã¦ã‹ã‚‰è³¼å…¥ã™ã‚‹ç¿’æ…£ã‚’ã€‚',
                'ğŸ›¡ï¸ å®ˆã‚‹åŠ›': 'åŸºæœ¬çš„ãªä¿é™ºã®ç¢ºèªã‚’ã€‚åŒ»ç™‚ä¿é™ºã‚„ç”Ÿå‘½ä¿é™ºã®å†…å®¹ã‚’è¦‹ç›´ã—ã€é©åˆ‡ãªä¿éšœã‚’ç¢ºä¿ã—ã¾ã—ã‚‡ã†ã€‚'
            },
            'å‰': {
                'ğŸ’¸ è²¯ã‚ã‚‹åŠ›': 'ç¯€ç´„ã®åŠ¹æœãŒç¾ã‚Œå§‹ã‚ã‚‹æ™‚æœŸã€‚ç¶šã‘ã¦ã„ã‘ã°å¿…ãšçµæœãŒã¤ã„ã¦ãã¾ã™ã€‚æ²¹æ–­ã›ãšã«ç¶™ç¶šã‚’ã€‚',
                'ğŸ“ˆ å¢—ã‚„ã™åŠ›': 'åˆ†æ•£æŠ•è³‡ã‚’å¿ƒãŒã‘ã¦ã€‚ä¸€ã¤ã®å•†å“ã«é›†ä¸­ã›ãšã€ãƒªã‚¹ã‚¯ã‚’åˆ†æ•£ã•ã›ã‚‹ã“ã¨ã§å®‰å®šã—ãŸæˆé•·ã‚’ã€‚',
                'ğŸ’ª ç¨¼ãåŠ›': 'æ–°ã—ã„åå…¥æºã®æ¤œè¨ã‚’ã€‚æœ¬æ¥­ä»¥å¤–ã®åå…¥ã‚‚è¦–é‡ã«å…¥ã‚Œã€è¤‡æ•°ã®åå…¥ã®æŸ±ã‚’ç¯‰ãã¾ã—ã‚‡ã†ã€‚',
                'ğŸ¯ ä½¿ã†åŠ›': 'é•·æœŸçš„ãªä¾¡å€¤ã‚’è€ƒãˆãŸæ¶ˆè²»ã‚’ã€‚å®‰ç‰©è²·ã„ã®éŠ­å¤±ã„ã«ãªã‚‰ãªã„ã‚ˆã†ã€è³ªã‚’é‡è¦–ã—ãŸé¸æŠã‚’ã€‚',
                'ğŸ›¡ï¸ å®ˆã‚‹åŠ›': 'è³‡ç”£ã®ä¿å…¨ã«æ„è­˜ã‚’å‘ã‘ã¦ã€‚ã‚¤ãƒ³ãƒ•ãƒ¬å¯¾ç­–ã‚‚å«ã‚ã¦ã€ãŠé‡‘ã®ä¾¡å€¤ã‚’å®ˆã‚‹æ–¹æ³•ã‚’è€ƒãˆã¾ã—ã‚‡ã†ã€‚'
            },
            'åŠå‰': {
                'ğŸ’¸ è²¯ã‚ã‚‹åŠ›': 'ç¯€ç´„ã¯å°‘ã—ãšã¤ã§ã‚‚åŠ¹æœã‚ã‚Šã€‚å®Œç’§ã‚’ç›®æŒ‡ã•ãšã€ã§ãã‚‹ã“ã¨ã‹ã‚‰å§‹ã‚ã¦ç¿’æ…£ã¥ã‘ã—ã¾ã—ã‚‡ã†ã€‚',
                'ğŸ“ˆ å¢—ã‚„ã™åŠ›': 'æŠ•è³‡ã¸ã®ç¬¬ä¸€æ­©ã‚’è¸ã¿å‡ºã™æ™‚ã€‚å°‘é¡ã‹ã‚‰å§‹ã‚ã¦ã€çµŒé¨“ã‚’ç©ã‚€ã“ã¨ãŒå°†æ¥ã¸ã®æŠ•è³‡ã§ã™ã€‚',
                'ğŸ’ª ç¨¼ãåŠ›': 'ç¾çŠ¶ç¶­æŒã‹ã‚‰ä¸€æ­©å‰é€²ã‚’ã€‚æ–°ã—ã„ã“ã¨ã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã€åå…¥ã‚¢ãƒƒãƒ—ã®å¯èƒ½æ€§ã‚’æ¢ã‚Šã¾ã—ã‚‡ã†ã€‚',
                'ğŸ¯ ä½¿ã†åŠ›': 'è¨ˆç”»çš„ãªæ¶ˆè²»ã‚’å¿ƒãŒã‘ã¦ã€‚æ¬²ã—ã„ã‚‚ã®ãƒªã‚¹ãƒˆã‚’ä½œã£ã¦ã€å„ªå…ˆé †ä½ã‚’ã¤ã‘ã¦è³¼å…¥ã—ã¾ã—ã‚‡ã†ã€‚',
                'ğŸ›¡ï¸ å®ˆã‚‹åŠ›': 'åŸºæœ¬çš„ãªå‚™ãˆã‹ã‚‰å§‹ã‚ã¦ã€‚ã¾ãšã¯å°‘é¡ã§ã‚‚è²¯è“„ã‚’å§‹ã‚ã€å°†æ¥ã¸ã®å®‰å¿ƒæ„Ÿã‚’ç¯‰ãã¾ã—ã‚‡ã†ã€‚'
            },
            'æœ«å‰': {
                'ğŸ’¸ è²¯ã‚ã‚‹åŠ›': 'ä»Šã¯æˆ‘æ…¢ã®æ™‚æœŸã€‚å°†æ¥ã®ãŸã‚ã®ç¨®ã¾ãã¨æ€ã£ã¦ã€åœ°é“ãªç¯€ç´„ã‚’ç¶šã‘ã¦ã„ãã¾ã—ã‚‡ã†ã€‚',
                'ğŸ“ˆ å¢—ã‚„ã™åŠ›': 'æ…é‡ã«æŠ•è³‡ã®å‹‰å¼·ã‚’ã€‚æ€¥ãŒãšç„¦ã‚‰ãšã€ã—ã£ã‹ã‚Šã¨ã—ãŸçŸ¥è­˜ã‚’èº«ã«ã¤ã‘ã¦ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ã€‚',
                'ğŸ’ª ç¨¼ãåŠ›': 'ä»Šã¯åŠ›ã‚’è“„ãˆã‚‹æ™‚ã€‚ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã‚„äººè„ˆä½œã‚Šã«æ³¨åŠ›ã—ã€å°†æ¥ã®åå…¥ã‚¢ãƒƒãƒ—ã«å‚™ãˆã¾ã—ã‚‡ã†ã€‚',
                'ğŸ¯ ä½¿ã†åŠ›': 'ç„¡é§„é£ã„ã‚’æ§ãˆã‚ã«ã€‚æœ¬å½“ã«å¿…è¦ãªã‚‚ã®ã‹ã‚ˆãè€ƒãˆã¦ã€æ…é‡ãªæ¶ˆè²»ã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ã€‚',
                'ğŸ›¡ï¸ å®ˆã‚‹åŠ›': 'å®ˆã‚Šã‚’å›ºã‚ã‚‹æ™‚æœŸã€‚ãƒªã‚¹ã‚¯ã®é«˜ã„æŠ•è³‡ã¯é¿ã‘ã€å®‰å…¨æ€§ã‚’é‡è¦–ã—ãŸè³‡ç”£ç®¡ç†ã‚’ã€‚'
            },
            'å‡¶': {
                'ğŸ’¸ è²¯ã‚ã‚‹åŠ›': 'æ”¯å‡ºã®è¦‹ç›´ã—ãŒæ€¥å‹™ã€‚å®¶è¨ˆã®ç„¡é§„ã‚’å¾¹åº•çš„ã«æ´—ã„å‡ºã—ã€æœ¬æ ¼çš„ãªç¯€ç´„ã«å–ã‚Šçµ„ã¿ã¾ã—ã‚‡ã†ã€‚',
                'ğŸ“ˆ å¢—ã‚„ã™åŠ›': 'æŠ•è³‡ã¯æ…é‡ã«ã€‚ä»Šã¯å‹‰å¼·ã«å°‚å¿µã—ã€å¸‚å ´ã®å‹•å‘ã‚’ã‚ˆãè¦³å¯Ÿã—ã¦ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’è¦‹è¨ˆã‚‰ã„ã¾ã—ã‚‡ã†ã€‚',
                'ğŸ’ª ç¨¼ãåŠ›': 'åå…¥æºã®å®‰å®šåŒ–ã‚’å›³ã£ã¦ã€‚å‰¯æ¥­ã‚ˆã‚Šã‚‚ã¾ãšã¯æœ¬æ¥­ã®å®‰å®šã¨æˆé•·ã«é›†ä¸­ã—ã¾ã—ã‚‡ã†ã€‚',
                'ğŸ¯ ä½¿ã†åŠ›': 'å‡ºè²»ã‚’æœ€å°é™ã«æŠ‘ãˆã¦ã€‚è´…æ²¢ã¯æ§ãˆã€å¿…éœ€å“ã®ã¿ã®è³¼å…¥ã«ç•™ã‚ã‚‹ã“ã¨ãŒè³¢æ˜ã§ã™ã€‚',
                'ğŸ›¡ï¸ å®ˆã‚‹åŠ›': 'è³‡ç”£ä¿å…¨ãŒæœ€å„ªå…ˆã€‚ãƒªã‚¹ã‚¯ã®é«˜ã„æŠ•è³‡ã¯é¿ã‘ã€å…ƒæœ¬ä¿è¨¼ã®å•†å“ã§å®‰å…¨ã«è³‡ç”£ã‚’å®ˆã‚Šã¾ã—ã‚‡ã†ã€‚'
            }
        };

        const fortuneKeys = ['å¤§å‰', 'ä¸­å‰', 'å°å‰', 'å‰', 'åŠå‰', 'æœ«å‰', 'å‡¶'];
        let isDrawing = false;

        function startApp() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('omikujiScreen').style.display = 'block';
            document.getElementById('omikujiScreen').classList.add('fade-in');
        }

        function goBack() {
            document.getElementById('omikujiScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'flex';
            resetDraw();
        }

        function drawFortune() {
            if (isDrawing) return;
            
            isDrawing = true;
            const box = document.getElementById('omikujiBox');
            const button = document.getElementById('drawButton');
            const spinner = document.getElementById('loadingSpinner');
            
            // ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
            button.disabled = true;
            button.textContent = 'å¼•ã„ã¦ã„ã¾ã™...';
            
            // ãŠã¿ãã˜ç®±ã«ã‚·ã‚§ã‚¤ã‚¯ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            box.classList.add('shaking');
            
            // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ãƒ”ãƒŠãƒ¼è¡¨ç¤º
            spinner.style.display = 'block';
            
            // 2ç§’å¾Œã«çµæœè¡¨ç¤º
            setTimeout(() => {
                const randomFortune = fortuneKeys[Math.floor(Math.random() * fortuneKeys.length)];
                showResult(randomFortune);
                
                box.classList.remove('shaking');
                spinner.style.display = 'none';
                button.style.display = 'none';
                isDrawing = false;
            }, 2000);
        }

        function showResult(fortune) {
            document.getElementById('fortuneLevel').textContent = fortune;
            
            const categoriesDiv = document.getElementById('fortuneCategories');
            const fortuneData = fortunes[fortune];
            
            let html = '';
            for (const [category, text] of Object.entries(fortuneData)) {
                html += `
                    <div class="category">
                        <div class="category-title">${category}ï¼ˆ${getCategorySubtitle(category)}ï¼‰</div>
                        <div class="category-text">${text}</div>
                    </div>
                `;
            }
            
            categoriesDiv.innerHTML = html;
            document.getElementById('resultContent').style.display = 'block';
            document.getElementById('resultContent').classList.add('fade-in');
        }

        function getCategorySubtitle(category) {
            const subtitles = {
                'ğŸ’¸ è²¯ã‚ã‚‹åŠ›': 'æ”¯å‡ºã‚’æ¸›ã‚‰ã™åŠ›',
                'ğŸ“ˆ å¢—ã‚„ã™åŠ›': 'è³‡ç”£ã‚’å¢—ã‚„ã™åŠ›', 
                'ğŸ’ª ç¨¼ãåŠ›': 'åå…¥ã‚’å¢—ã‚„ã™åŠ›',
                'ğŸ¯ ä½¿ã†åŠ›': 'ãŠé‡‘ã‹ã‚‰ã‚ˆã‚Šé«˜ã„ä¾¡å€¤ã‚’å¼•ãå‡ºã™åŠ›',
                'ğŸ›¡ï¸ å®ˆã‚‹åŠ›': 'è³‡ç”£ã‚’æ¸›ã‚‰ã•ãªã„åŠ›'
            };
            return subtitles[category] || '';
        }

        function resetDraw() {
            document.getElementById('fortuneLevel').textContent = 'ï¼Ÿ';
            document.getElementById('resultContent').style.display = 'none';
            document.getElementById('drawButton').style.display = 'block';
            document.getElementById('drawButton').disabled = false;
            document.getElementById('drawButton').textContent = 'ãŠã¿ãã˜ã‚’å¼•ã';
        }
    </script>
</body>
</html>